<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">

<dom-module id="memory-info">
    <template>
        <h1 class="page-title" tabindex="-1">Memory Usage</h1>
        <div class="flex-container">
          <div class="flex-chart">
            <canvas class="chart" id="memChart"></canvas>
          </div>
          <div class="flex-box">
            <ul>
              <li><b>Memory Used: </b>{{used}} GB</li>
              <li><b>Memory Free: </b>{{free}} GB</li>
            </ul>
          </div>
        </div>
    </template>

    <script src="../../scripts/Chart.bundle.js"></script>
    <script>
      Polymer({
        is: "memory-info",

        properties: {
          used: Number,
          free: Number
        },

        ready: function() {
          
        },

        attached: function() {
          var ctx = this.$.memChart;
          chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ["Used [GB]","Available [GB]",],
                datasets: [
                    {
                        data: [1, 2],
                        backgroundColor: [
                            "#FF6384",
                            "#36A2EB"
                        ],
                        hoverBackgroundColor: [
                            "#FF6384",
                            "#36A2EB"
                        ]
            }]},
            options: {legend: false, tooltips: false}
          });
        }
        // CHECK THE MANAGER EXAMPLE
        _update: function() {
          chart.data.datasets[0].data[0] = this.free;
          chart.data.datasets[0].data[1] = this.used;
          chart.update();
          console.log(this.free);
          });
        }
      });

      
    </script>
</dom-module>

